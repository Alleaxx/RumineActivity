# Анализ форумной активности Румине
## Кратко
Приложение, которое красиво визуализирует серые и неприглядные данные форумной активности сайта в прекрасные таблицы, диаграммы и всё такое прочее. С учетом пользовательских пожеланий, разумеется.

Дает неплохое представление об активности форума https://ru-minecraft.ru за всё время его существования с точностью до дня.

Доступно по следующему адресу: <https://alleaxx.github.io/RumineActivity/>.

Инструкция по использованию находится там же, прямо на главной странице. Рядом, кстати, имеется чейнджлог с изменениями последних версий.

![Диаграмма активности](https://i.ibb.co/0DgbB44/Activity2.gif)

## Возможности
- Хранение данных об активности форума ru-minecraft.ru из глубин истории;
- Преобразование непонятных данных в более-менее подготовленную статистику;
- Анализ полученной статистики;
    - Разделение по конкретным периодам;
    - Форматирование выводимых значений;
    - Визуализация с помощью таблиц, списков, гистограмм и графиков.
- Сравнение статистики разных периодов друг с другом

## Технологии
C#, .NET 8 (изначально .NET 5), Blazor WebAssembly и чуток SVG для диаграмм.

Почему именно так?
- C# + Blazor доступен сразу в браузере;
- Идея приложения хорошо ложится на интерактивное SPA. Здесь нужен и алгоритм расчета статистики перед отображением, и, собственно, продвинутый интерфейс для визуализации рычажков, настроечек и результатов расчетов.

### Проекты
- ```RumineActivity.Core``` - основная библиотека с алгоритмом расчета активности и общими сущностями.
- ```RumineActivity.View``` - Blazor-приложение с визуализацией данных.
- ```RumineActivity.Console``` - вспомогательный проект для приведения исходных данных в удобный для анализа вид.

## Как работает
В данных хранится список форумных постов, у каждого указано два свойства
- ID
- Дата написания

Этого вполне достаточно для анализа.

#### Расчет активности
ID форумного сообщения соответствует его порядковому номеру на форуме. Если из ID позднего поста вычесть ID более раннего, то получится общее количество написанных сообщений на *всем форуме* за прошедший период. Будут учтены даже удаленные сообщения.
### Источник данных
В изначальной версии приложения данные по постам были некогда собраны и введены вручную (ужас-то какой!) в оригинальную эксель-таблицу, откуда они перекочевали в актуальную версию приложения.

Сейчас же почти все данные о постах получены куда более эффективным путём, который запросто уделывает по точности любые ручные Excel-таблицы (парсинг и не только). Так что оригинальная Excel-таблица окончательно перешла в разряд наследия.

## Предыстория
С 2016 года статистика по активности форума Румине базировалась в эксель-таблице. Сначала там хранились посчитанные вручную значения количества написанных постов в месяце n, затем в ней стали проводиться кое-какие вычисления (на основе разницы ID двух постов). Там же строились и графики, впоследствии выкладывавшиеся в виде картинки. В 2018 / 2019 была сделана веб-версия, которая представляла обычную html-таблицу с перенесенными значениями из экселя. Эксель таблица обновлялась раз в несколько месяцев и почти никому не показывалась, веб-вариант не обновлялся вообще (ибо занятие весьма нудное). На том дело почти и кончилось.
![Часть исходной таблицы](https://i.ibb.co/NjD36kB/image.png)
Однако проект исторического симулятора Румине оставил после себя немало добра из веб-архива, которое при желании можно было использовать для других целей, например для вычисления автоматической точной статистики! Однако исходную экселевскую книгу для такого пришлось бы полностью переделывать, и всё равно бы остались ограничения с неудобствами. Появился хороший повод написать полноценное приложение для анализа и визуализации статистики, заодно предоставив возможность всем желающим посмотреть статистику в удобном, настраиваемом виде. Сказано - сделано, и вот мы здесь.

## Планы на будущее
- Максимальная детализация активности не по дням, а прямо по *часам*
- Улучшение интерфейса сравнения статистики разных периодов друг с другом
- Добавление общей статистики - заранее посчитанные самые активные месяцы, дни недели, сезоны в среднем...
- Оптимизация алгоритма расчета количества написанных сообщений за период
    - Улучшение графиков, чтобы они нормально могли отображать более 200 записей
- Улучшение сохранение в файл?